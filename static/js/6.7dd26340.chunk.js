(this.webpackJsonpgit_viewer=this.webpackJsonpgit_viewer||[]).push([[6],{127:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a(131),u=a(86),o=a(129),m=a(36),i=a(82),s=a(41),f=a(126),E=a(118),d=a(14);function h(e){var t=e.repoName,a=e.defaultBranch,n=e.language,r=e.login,l=e.title;return c.a.createElement(f.a,null,c.a.createElement(E.a,null,c.a.createElement(f.a,null,t),c.a.createElement(f.a,null,c.a.createElement(E.a,{md:"5",xs:"5"},c.a.createElement("span",{className:"text-muted"},c.a.createElement("small",null,"Default branch"),c.a.createElement("br",null),c.a.createElement("small",null,"Language"))),c.a.createElement(E.a,{md:"7",xs:"7",className:"text-right"},c.a.createElement("small",null,a),c.a.createElement("br",null),c.a.createElement("small",null,n))),c.a.createElement(f.a,{className:"justify-content-between"},c.a.createElement(E.a,null),c.a.createElement(E.a,{className:"text-right"},c.a.createElement(d.b,{className:"mt-2 btn btn-outline-info btn-sm",to:"/".concat(r,"/").concat(l,"/").concat(t,"/branches")},"Compare commits")))))}function b(e){var t=e.login,a=e.avatar;return c.a.createElement(f.a,null,c.a.createElement(E.a,{md:"1",xs:"3"},c.a.createElement("div",{className:"avatar"},c.a.createElement("a",{href:"https://github.com/".concat(t)},c.a.createElement("img",{alt:"avatar",className:"img-circle img-no-padding img-responsive",src:a})))),c.a.createElement(E.a,{md:"11",xs:"9"},t))}var g=function(e){var t=e.userDetails,a=e.title,n=e.user;return t.map((function(e,t){return c.a.createElement(o.a.Item,{key:t},"repos"!==a?c.a.createElement(b,{login:e.login,avatar:e.avatar_url}):c.a.createElement(h,{repoName:e.name,defaultBranch:e.default_branch,language:e.language,login:n.login,title:a}))}))};function v(){var e=Object(m.c)((function(e){return e.userReducer})),t=e.userDetails,a=e.isLoginPending,u=e.user,f=Object(r.g)().info,E=Object(m.b)();return Object(n.useEffect)((function(){E(Object(i.b)(f,u.login))}),[]),a?c.a.createElement(s.a,null):c.a.createElement(l.a.Body,null,t.length?c.a.createElement(o.a,{variant:"flush",className:"list-unstyled team-members"},c.a.createElement(g,{userDetails:t,title:f,user:u})):c.a.createElement("div",null,"No data"))}var p=a(84),O=a(83),j=a(128),N=a(132),x=a(125);function y(e){var t=Object(n.useContext)(_),a=t.selectOptions,r=t.handleSelectChange,l=t.firstBranch,u=t.secondBranch,o="firstBranch"===e.name?u:l;return c.a.createElement(x.a,{options:a.filter((function(e){return e.value!==o})),onChange:function(t){return r(t,e.name)}})}function S(){var e=Object(n.useContext)(_),t=e.handleCommits,a=e.firstBranch,r=e.secondBranch;return c.a.createElement(j.a,null,c.a.createElement(f.a,{className:"justify-content-center"},c.a.createElement(E.a,null,c.a.createElement(j.a.Group,null,c.a.createElement(y,{name:"firstBranch"}))),c.a.createElement(E.a,null,c.a.createElement(j.a.Group,null,c.a.createElement(y,{name:"secondBranch"})))),c.a.createElement(f.a,{className:"text-center"},c.a.createElement(E.a,null,c.a.createElement(N.a,{className:"btn-round",variant:"dark",onClick:t,disabled:!a||!r},"Show difference"))))}var k=a(123),B=a.n(k);function w(e){return c.a.createElement(f.a,null,c.a.createElement(E.a,{xs:"4"},c.a.createElement("small",{className:"font-italic"},e.title)),c.a.createElement(E.a,{xs:"8",className:"text-right"},c.a.createElement("small",null,e.content)))}var C=function(e,t){for(var a,n=[],r=0;r<e;r++){var l=t[r];if(l){var u=(a=l.commit.author.date,new Date(a).toJSON().slice(0,10));n.push(c.a.createElement(o.a.Item,{key:r},c.a.createElement(w,{title:"Sha",content:l.sha.toString().slice(0,8)}),c.a.createElement(w,{title:"Author",content:l.commit.author.name}),c.a.createElement(w,{title:"Message",content:l.commit.message}),c.a.createElement(w,{title:"Date",content:u})))}}return n};function D(e){var t=Object(n.useState)(5),a=Object(p.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)(!0),m=Object(p.a)(u,2),i=m[0],s=m[1];return c.a.createElement(o.a,{variant:"flush"},Object.keys(e.data).length?c.a.createElement(B.a,{loadMore:function(){r>=Object.keys(e.data).length?s(!1):setTimeout((function(){l((function(e){return e+5}))}),1500)},hasMore:i,loader:"Loading...",useWindow:!0},C(r,e.data)):null)}var _=c.a.createContext({});function G(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],u=t[1],o=Object(n.useState)(""),m=Object(p.a)(o,2),i=m[0],s=m[1],d=Object(n.useState)(""),h=Object(p.a)(d,2),b=h[0],g=h[1],v=Object(n.useState)([]),j=Object(p.a)(v,2),N=j[0],x=j[1],y=Object(n.useState)([]),k=Object(p.a)(y,2),B=k[0],w=k[1],C=Object(r.g)(),G=C.owner,I=C.repo;Object(n.useEffect)((function(){Object(O.b)(G,I).then((function(e){var t=e.data.map((function(e){return e.name}));u(t)}))}),[]);function J(e,t){t(e.map((function(e){return{sha:e.sha,commit:{message:e.commit.message,author:{name:e.commit.author.name,date:e.commit.author.date}}}})))}var L=a.map((function(e){return{value:e,label:e}}));return c.a.createElement(l.a.Body,null,c.a.createElement(l.a.Subtitle,{className:"mb-2 text-muted"},"Select branches"),c.a.createElement(_.Provider,{value:{selectOptions:L,handleSelectChange:function(e,t){"firstBranch"===t?s(e.value):g(e.value)},handleCommits:function(){Object(O.c)(G,I,i).then((function(e){return J(e.data,x)})),Object(O.c)(G,I,b).then((function(e){return J(e.data,w)}))},firstBranch:i,secondBranch:b}},c.a.createElement(S,null)),c.a.createElement("hr",null),c.a.createElement(f.a,null,c.a.createElement(E.a,{xs:"6"},c.a.createElement(D,{data:N})),c.a.createElement(E.a,{xs:"6"},c.a.createElement(D,{data:B}))))}function I(){var e=Object(r.f)(),t=Object(r.g)().info,a=Object(r.h)().path;return c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,null,c.a.createElement("a",{className:"back-link",onClick:function(){return e.goBack()},title:"Go back"},c.a.createElement(u.a,null))," ",c.a.createElement("span",null,t.replace(/^\w/,(function(e){return e.toUpperCase()}))))),c.a.createElement(r.c,null,c.a.createElement(r.a,{path:a,render:function(){return c.a.createElement(v,null)},exact:!0}),c.a.createElement(r.a,{path:"".concat(a,"/:repo/branches"),render:function(){return c.a.createElement(G,null)}}),c.a.createElement(r.a,{render:function(){return c.a.createElement("div",null,"Not correct path.")}})))}a.d(t,"default",(function(){return I}))},82:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a(16),c=a(83);function r(e){return function(t){Object(c.a)(e).then((function(e){var a;t((a=e.data,{type:n.a,payload:a}))})).catch((function(e){switch(e.response.status){case 404:t(u("No user with that email."));break;case 401:t(u("Invalid user."));break;default:return void t(u("Something wrong"))}}))}}function l(e,t){return function(a){a({type:n.d}),Object(c.d)(t,e).then((function(e){var t;a((t=e.data,{type:n.b,payload:t}))})).catch((function(e){a(u(e))}))}}function u(e){return{type:n.c,payload:e}}},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return m}));var n=a(87),c=a.n(n),r="https://api.github.com/";function l(e){return c.a.get("".concat(r,"users/").concat(e))}function u(e,t){return c.a.get("".concat(r,"users/").concat(e,"/").concat(t))}function o(e,t,a){return c.a.get("".concat(r,"repos/").concat(e,"/").concat(t,"/commits?sha=").concat(a))}function m(e,t){return c.a.get("".concat(r,"repos/").concat(e,"/").concat(t,"/branches"))}}}]);
//# sourceMappingURL=6.7dd26340.chunk.js.map